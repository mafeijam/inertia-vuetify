(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"89l/":function(t,e,a){"use strict";var n={data:function(){return{drawer:!0,items:[{icon:"mdi-account-group",link:"/admin/users",text:"用戶管理",val:"/admin"},{icon:"mdi-lock",link:"/protect",text:"Protect",val:"/protect"}],show:!1}},computed:{path:function(){return"/"+location.pathname.substr(1).split("/").shift()}},watch:{"$page.flash.success":{handler:function(t){this.show=null!==t},immediate:!0}},methods:{visit:function(t){this.$inertia.visit(t,{preserveState:!0,preserveScroll:!0})}}},i=a("KHd+"),r=a("ZUTo"),o=a.n(r),c=a("dJbz"),s=a("QNyc"),l=a("W8H5"),u=a("gzZi"),d=a("pSOK"),v=a("p1ug"),m=a("Ey0z"),p=a("iGBT"),f=a("2hOt"),h=a("XSMC"),b=a("G6r3"),g=a("NMP6"),k=a("93RO"),V=a("LbRV"),_=a("L6Q5"),w=a("Kn9U"),x=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"",clipped:"",width:"200"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[a("v-list-item-group",{attrs:{value:t.path,color:"orange",mandatory:""}},t._l(t.items,(function(e,n){return a("v-list-item",{key:n,attrs:{link:"",value:e.val},on:{click:function(a){return t.visit(e.link)}}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.text))])],1)],1)})),1)],1)],1),a("v-app-bar",{attrs:{app:"",dark:"",color:"blue-grey darken-3",elevation:"1","clipped-left":""}},[a("v-app-bar-nav-icon",{attrs:{color:"blue-grey lighten-5"},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"blue-grey--text text--lighten-5"},[t._v("超級系統")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",color:"blue-grey lighten-5"}},[a("v-icon",[t._v("mdi-bell")])],1),a("v-btn",{attrs:{icon:"",color:"blue-grey lighten-5"}},[a("v-icon",[t._v("mdi-account")])],1)],1),a("v-content",[a("v-container",{staticClass:"pa-5",attrs:{fluid:"","scroll-region":""}},[a("transition",{attrs:{name:"slide-x-reverse-transition",mode:"out-in"}},[t._t("default")],2)],1)],1),a("v-snackbar",{attrs:{top:"",color:"success"},on:{input:function(e){t.$page.flash.success=null}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v(t._s(t.$page.flash.success)),a("v-btn",{attrs:{small:"",icon:"",dark:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1)}),[],!1,null,null,null);e.a=x.exports;o()(x,{VApp:c.a,VAppBar:s.a,VAppBarNavIcon:l.a,VBtn:u.a,VContainer:d.a,VContent:v.a,VIcon:m.a,VList:p.a,VListItem:f.a,VListItemContent:h.a,VListItemGroup:b.a,VListItemIcon:g.a,VListItemTitle:h.b,VNavigationDrawer:k.a,VSnackbar:V.a,VSpacer:_.a,VToolbarTitle:w.a})},sDRw:function(t,e,a){"use strict";a.r(e);var n={layout:a("89l/").a,metaInfo:{title:"User"},props:["users"],data:function(){return{loading:!1,confirm:!1,headers:[{text:"名稱",value:"name"},{text:"電郵",value:"email"},{text:"新增日期",value:"created_at"},{text:"最後更新",value:"updated_at"},{text:"操作",value:"action",sortable:!1,align:"right"}],items:[],search:"",selected:{name:null}}},methods:{editItem:function(t){this.$inertia.visit("/admin/user/".concat(t.id,"/edit"))},reset:function(t){this.$inertia.patch("/admin/user/".concat(t.id,"/reset"))},deleteItem:function(t){this.selected=t,this.confirm=!0,this.$root.flashSnackbar=!1},confirmDelete:function(){var t=this;this.loading=!0,this.$inertia.delete("/admin/user/".concat(this.selected.id)).finally((function(){return t.loading=!1}))}}},i=a("KHd+"),r=a("ZUTo"),o=a.n(r),c=a("gzZi"),s=a("sK+t"),l=a("mdmw"),u=a("Yq0q"),d=a("j+oE"),v=a("FpqX"),m=a("Ey0z"),p=a("D9m0"),f=a("L6Q5"),h=a("hlRy"),b=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{dense:""}},[a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("v-card",[a("v-card-title",[t._v("確認刪除")]),a("v-card-text",[t._v(t._s(t.selected.name))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"pink"},on:{click:function(e){t.confirm=!1}}},[t._v("取消")]),a("v-btn",{attrs:{text:"",color:"indigo",loading:t.loading},on:{click:t.confirmDelete}},[t._v("確認")])],1)],1)],1),a("v-col",{staticClass:"mb-2",attrs:{cols:"6"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-magnify","single-line":"","hide-details":"",dense:"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",{staticClass:"mb-2 text-end",attrs:{cols:"6"}},[a("v-btn",{attrs:{color:"indigo",elevation:"1",dark:""},on:{click:function(e){return t.$inertia.visit("/admin/user/create")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-plus")]),t._v(" 新增用戶")],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.users,"items-per-page":15,"multi-sort":"",search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var n=e.item;return[a("v-btn",{staticClass:"mr-2",attrs:{color:"green",icon:"",small:""},on:{click:function(e){return t.editItem(n)}}},[a("v-icon",[t._v("mdi-account-edit")])],1),a("v-btn",{staticClass:"mr-2",attrs:{color:"teal",icon:"",small:""},on:{click:function(e){return t.reset(n)}}},[a("v-icon",[t._v("mdi-lock-reset")])],1),a("v-btn",{attrs:{color:"pink",icon:"",small:""},on:{click:function(e){return t.deleteItem(n)}}},[a("v-icon",[t._v("mdi-account-remove")])],1)]}}])})],1)],1)}),[],!1,null,null,null);e.default=b.exports;o()(b,{VBtn:c.a,VCard:s.a,VCardActions:l.a,VCardText:l.b,VCardTitle:l.c,VCol:u.a,VDataTable:d.a,VDialog:v.a,VIcon:m.a,VRow:p.a,VSpacer:f.a,VTextField:h.a})}}]);
//# sourceMappingURL=11.js.map?id=8d0516f4f425e83034cb